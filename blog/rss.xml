<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="rss.xsl"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>My Site Blog</title>
        <link>https://pradnyeshpatil.github.io/blog</link>
        <description>My Site Blog</description>
        <lastBuildDate>Wed, 04 Oct 2023 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[How to create and use Rake task in ruby and use it in the Rails?]]></title>
            <link>https://pradnyeshpatil.github.io/blog/how-to-create-rake-task</link>
            <guid>https://pradnyeshpatil.github.io/blog/how-to-create-rake-task</guid>
            <pubDate>Wed, 04 Oct 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Sometimes, We need to have a task that can be executed at regular basic at some time. In ruby, we have a rake task to define and execute this task at any time. We can use rake tasks in Rails for various purposes.]]></description>
            <content:encoded><![CDATA[<p>Sometimes, We need to have a task that can be executed at regular basic at some time. In ruby, we have a rake task to define and execute this task at any time. We can use rake tasks in Rails for various purposes.</p>
<p>Rake is inspired by Linux <a href="https://en.wikipedia.org/wiki/Make_(software)" target="_blank" rel="noopener noreferrer">make utility</a>. Its name comes from the <code>Ruby Make</code>. Rake is a task management utility that reads and executes the tasks defined in the ruby language in the 'Rakefile`. It was written by the late <a href="https://en.wikipedia.org/wiki/Jim_Weirich" target="_blank" rel="noopener noreferrer">Jim Weirich</a>.</p>
<h1>How to create a Rake task.</h1>
<p>Create a file with the name 'Rakefile' and write the following content in it.
<code> $ touch Rakefile</code></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">desc 'print hello world'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">task :hello_world do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  puts 'Hello world from Rubyist'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre></div></div>
<p>Here <code>desc</code> command defines the description of the task and <code>task</code> command defines the actual task that needs to be executed. Here we are defining a simple task which is printing "Hello world from Rubyist.".</p>
<p>If you are in the directory containing the Rakefile then you can execute the following commands:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ rake --task              This command will show all the tasks defined in the Rakefile along with its description.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">=&gt; rake hello_world        # Print hello world</span><br></span></code></pre></div></div>
<p>Now we can execute the task using the following command</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ rake hello_world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">=&gt; Hello world from Rubyist</span><br></span></code></pre></div></div>
<p>We can also use namespace while defining the Rake task add the following code to Rakefile:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">desc 'Display files from the current directory'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">namespace :admin do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  task :display_files do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    system('ls')</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre></div></div>
<p>Let's see all tasks once again:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ rake --task</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">=&gt; rake admin:display_files  # Display files from the current directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   rake hello_world          # print hello world</span><br></span></code></pre></div></div>
<p>We can execute this task as follows:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ rake admin:hello_world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(It should display files from your current directory)</span><br></span></code></pre></div></div>
<p>Namespacing to rake task is always good when the number of tasks is more and also it separates the context of the task.</p>
<p>In the Rails project we can see many rake tasks as following:</p>
<ul>
<li>rails db<!-- -->:migrate</li>
<li>rails routes</li>
<li>rake tmp<!-- -->:clear</li>
<li>rake tmp<!-- -->:create</li>
</ul>
<p>We can find out many more tasks by executing <code>rake --task</code> command in the Rails application root directory.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-define-custom-rake-tasks-in-rails">How to define custom rake tasks in Rails?<a href="https://pradnyeshpatil.github.io/blog/how-to-create-rake-task#how-to-define-custom-rake-tasks-in-rails" class="hash-link" aria-label="Direct link to How to define custom rake tasks in Rails?" title="Direct link to How to define custom rake tasks in Rails?">​</a></h2>
<p>We can create file with <code>.rake</code> extension in <code>/lib/tasks/</code> folder.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># lib/tasks/clear_logs.rake</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">namespace :Logs do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  desc 'clear the log files'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  task clear: :environment do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Dir["log/*.log"].each do |file|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       File.unlink(file)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre></div></div>
<p>Above task is deleting all files from <code>log directory</code>.</p>
<p>Now we can simply execute this task as following:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ rake Logs:clear</span><br></span></code></pre></div></div>
<p>I hope you loved it.
Please feel free to contact me on <a href="https://x.com/Shyampa09340219" target="_blank" rel="noopener noreferrer">twitter</a>.</p>]]></content:encoded>
            <category>Rails</category>
            <category>Ruby</category>
        </item>
        <item>
            <title><![CDATA[Postgres users and their permission issue.]]></title>
            <link>https://pradnyeshpatil.github.io/blog/postgres-permission-denied</link>
            <guid>https://pradnyeshpatil.github.io/blog/postgres-permission-denied</guid>
            <pubDate>Sun, 09 Apr 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Have you ever faced the following issue while fetching records from Postgres in the rails?]]></description>
            <content:encoded><![CDATA[<p>Have you ever faced the following issue while fetching records from Postgres in the rails?</p>
<p><strong><code>ActiveRecord::StatementInvalid: PG::InsufficientPrivilege: ERROR:  permission denied for relation</code></strong></p>
<p>I had following configuration in my database.yml file</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">development:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;&lt;: *default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  database: dev_db_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">staging:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;&lt;: *default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  database: staging_db_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  username: staging_db_username</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  password: password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;&lt;: *default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  database: test_db_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  username: test_db_username</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  password: password</span><br></span></code></pre></div></div>
<p>So while fetching Postgres record from rails console I was getting above mentioned error</p>
<p>Another issue was the rails were not providing the username for which permission error was occurring and I was not sure about the username used while fetching the Postgres record.</p>
<p>To check which user is getting permission error we can check Postgres log file:
If you are using ubuntu the please open following file:</p>
<p><code>/var/log/postgresql/postgresql-10-main.log</code> (log file name can be different as per your Postgres version)</p>
<p>In the log file you will get line similar to the following:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">2020-04-09 17:24:01.874 IST [25904] root@dev_db_name ERROR:  permission denied for relation</span><br></span></code></pre></div></div>
<p>Here we can get the username <code>root@dev_db_name</code> so <code>root</code> user is getting permission denied for the table.</p>
<p>To solve this issue use the following steps:</p>
<ul>
<li>
<p>Open your Postgres console with the following command:</p>
<p><code>sudo su - postgres</code> followed by <code>psql</code></p>
</li>
<li>
<p>Now use <code>\du</code> command to check users and their permissions.</p>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">postgres=# \du</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                      List of roles</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Role name    |                         Attributes                         | Member of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">----------------+------------------------------------------------------------+-----------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> postgres       | Superuser, Create role, Create DB, Replication, Bypass RLS | {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> root           |                                                            | {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> pradnyesh        | Superuser, Create DB, Bypass RLS                           | {}</span><br></span></code></pre></div></div>
<p>Here we can see root user don't have any permission</p>
<p>Now grant the following permissions to the <code>root</code> user.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GRANT ALL PRIVILEGES ON DATABASE dev_db_name to root;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">postgres=# ALTER USER root WITH SUPERUSER CREATEDB BYPASSRLS;</span><br></span></code></pre></div></div>
<p>you can read more about the Privileges in PostgreSQL <a href="https://www.digitalocean.com/docs/databases/postgresql/how-to/modify-user-privileges/" target="_blank" rel="noopener noreferrer">Here</a>.</p>
<p>I hope it will solve your problem.
If you still have a problem please feel free to contact me on <a href="mailto:patilpradnyesh1312@gmail.com" target="_blank" rel="noopener noreferrer">patilpradnyesh1312@gmail.com</a>.</p>]]></content:encoded>
            <category>Rails</category>
            <category>postgres</category>
        </item>
        <item>
            <title><![CDATA[Do you know how helpful the const_get method is?]]></title>
            <link>https://pradnyeshpatil.github.io/blog/const-get-method-in-ruby</link>
            <guid>https://pradnyeshpatil.github.io/blog/const-get-method-in-ruby</guid>
            <pubDate>Sat, 11 Feb 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[First, we will understand how the const_get method works then I will explain how we can use it in different ways and what are the use cases.]]></description>
            <content:encoded><![CDATA[<p>First, we will understand how the const_get method works then I will explain how we can use it in different ways and what are the use cases.</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module Vehicle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  class Car</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WHEELS = 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">puts Object.const_get 'Vehicle::Car::WHEELS'   # =&gt; 4</span><br></span></code></pre></div></div>
<p>Here, we can see that we have passed the string 'Vehicle::Car::WHEELS' parameter to method const_get and it has given the outcome '4' which is the actual value of constant wheels.</p>
<p>We can also use some variable to store this string and get the constant's value bypassing this variable as a parameter to the const_get method.</p>
<p>We can also lookup the ancestor's constant using const_get method if the inherit flag is set as true.</p>
<p><code>Note:</code> ancestors of some module means a list of modules included or prepend in that module.</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module Vehicle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  class Car</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WHEELS = 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  class TeslaS &lt; Car</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wheel_const = 'Vehicle::TeslaS::WHEELS'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Here true is inherit flag which can be true or false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">puts Object.const_get(wheel_const, true)  # =&gt; 4</span><br></span></code></pre></div></div>
<p>Here we have given the inherit flag as true it means lookup the base class and the module Vehicle's ancestors as well. If we would have included/prepend some modules in our Vehicle module then the const_get method also would have lookup into those modules.</p>
<p>Now, let's try to change that flag into false.</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module Vehicle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  class Car</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WHEELS = 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  class TeslaS &lt; Car</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wheel_const = 'Vehicle::TeslaS::WHEELS'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">puts Object.const_get(wheel_const, false)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#  Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#  Traceback (most recent call last):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#	  1: from random.rb:11:in `&lt;main&gt;'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#  random.rb:11:in `const_get': uninitialized constant Vehicle::TeslaS::WHEELS (NameError)</span><br></span></code></pre></div></div>
<p>Now, we are getting an error uninitialized constant <code>Vehicle::TeslaS::WHEELS</code> because now we have set inherit flag as a false so const_get method will not lookup base class or modules ancestors for <code>WHEEL</code> constant. It will throw an error because the <code>WHEEL</code> constant is not defined in the TeslaS class.</p>
<p><code>Note:</code> If we do not mention the inherit flag then it is by default true.</p>
<p>I hope you loved it.
Please feel free to contact me on <a href="https://x.com/Shyampa09340219" target="_blank" rel="noopener noreferrer">twitter</a>.</p>]]></content:encoded>
            <category>Ruby</category>
        </item>
        <item>
            <title><![CDATA[Difference between puts, p, and print in ruby.]]></title>
            <link>https://pradnyeshpatil.github.io/blog/compare-puts-p-print-in-ruby</link>
            <guid>https://pradnyeshpatil.github.io/blog/compare-puts-p-print-in-ruby</guid>
            <pubDate>Thu, 13 Oct 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[Ruby is developer friendly language and it provides many ways to perform same task. For example for printing the output on the console we can use puts, prints and p. But multiple ways to do same task means more confusion for selecting correct way for our use case. In this blog we will discuss about difference between puts, print and p so that we can select correct method as per our use case.]]></description>
            <content:encoded><![CDATA[<p>Ruby is developer friendly language and it provides many ways to perform same task. For example for printing the output on the console we can use puts, prints and p. But multiple ways to do same task means more confusion for selecting correct way for our use case. In this blog we will discuss about difference between puts, print and p so that we can select correct method as per our use case.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="lets-start-with-hello-world-using-all-of-this">Let's start with <code>hello world</code> using all of this.<a href="https://pradnyeshpatil.github.io/blog/compare-puts-p-print-in-ruby#lets-start-with-hello-world-using-all-of-this" class="hash-link" aria-label="Direct link to lets-start-with-hello-world-using-all-of-this" title="Direct link to lets-start-with-hello-world-using-all-of-this">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-using-puts">1. Using <code>puts</code>.<a href="https://pradnyeshpatil.github.io/blog/compare-puts-p-print-in-ruby#1-using-puts" class="hash-link" aria-label="Direct link to 1-using-puts" title="Direct link to 1-using-puts">​</a></h4>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; puts 'hello world'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; nil</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-using-p">2. Using <code>p</code>.<a href="https://pradnyeshpatil.github.io/blog/compare-puts-p-print-in-ruby#2-using-p" class="hash-link" aria-label="Direct link to 2-using-p" title="Direct link to 2-using-p">​</a></h4>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; p 'hello world'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">"hello world"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> =&gt; "hello world"</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-using-print">3. Using <code>print</code><a href="https://pradnyeshpatil.github.io/blog/compare-puts-p-print-in-ruby#3-using-print" class="hash-link" aria-label="Direct link to 3-using-print" title="Direct link to 3-using-print">​</a></h4>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">print 'hello world'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world =&gt; nil</span><br></span></code></pre></div></div>
<p>You must have observed there is some difference in every output.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="few-observations">Few observations:<a href="https://pradnyeshpatil.github.io/blog/compare-puts-p-print-in-ruby#few-observations" class="hash-link" aria-label="Direct link to Few observations:" title="Direct link to Few observations:">​</a></h4>
<ol>
<li>puts and print has return <code>nil</code> while p has return the input we have passed to it.</li>
<li>p has shown output in string format.</li>
<li>return value of puts and p has printed on next line and for print return value is on same line.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lets-take-one-more-example-for-better-understanding">Let's take one more example for better understanding:<a href="https://pradnyeshpatil.github.io/blog/compare-puts-p-print-in-ruby#lets-take-one-more-example-for-better-understanding" class="hash-link" aria-label="Direct link to Let's take one more example for better understanding:" title="Direct link to Let's take one more example for better understanding:">​</a></h3>
<p>Now we create one file with extension .rb and paste below given code in that file.</p>
<p>1.Example of puts:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">A = 'I'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">B = 'Love'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C = 'Ruby'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">puts A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">puts B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">puts C</span><br></span></code></pre></div></div>
<p>Now we can run this file using <code>ruby filename.rb</code> in the terminal and before running this command confirm that you are in the same directory where you have created ruby file.</p>
<p>output of above code will be as following</p>
<p>Output of puts:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">I</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Love</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ruby</span><br></span></code></pre></div></div>
<p>Now we will execute same code for print and p.</p>
<p>2.Using print</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">A = 'I'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">B = 'Love'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C = 'Ruby'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print C</span><br></span></code></pre></div></div>
<p>Output of print:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ILoveRuby</span><br></span></code></pre></div></div>
<p>3.Using p.</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">A = 'I'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">B = 'Love'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C = 'Ruby'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p C</span><br></span></code></pre></div></div>
<p>Output of p:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">"I"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">"Love"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">"Ruby"</span><br></span></code></pre></div></div>
<p>Now you must have more clarity about all of this methods.</p>
<p>Let's conclude the blog:</p>
<ol>
<li>
<p>puts: puts add newline character at the end of the output. that is why we got return value <code>nil</code> on the next line.</p>
</li>
<li>
<p>print: print does not add newline character at the end of output because of that the return value of print that is <code>nil</code> is printed on the same line where output is printed.</p>
</li>
<li>
<p>p: p does not change data type of the input provided to it. if we are passing string type of input it also prints the string type of output. Most importantly, unlike to puts and print p does not return nil value. It returns the same value which has passed to it.</p>
</li>
</ol>
<p>Please feel free to contact me on <a href="https://x.com/Shyampa09340219" target="_blank" rel="noopener noreferrer">twitter</a>.</p>]]></content:encoded>
            <category>Ruby</category>
        </item>
        <item>
            <title><![CDATA[Extend, Merge methods in the Javascript.]]></title>
            <link>https://pradnyeshpatil.github.io/blog/how-to-merge-objects-in-javascript</link>
            <guid>https://pradnyeshpatil.github.io/blog/how-to-merge-objects-in-javascript</guid>
            <pubDate>Wed, 24 Aug 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[Yesterday, I was working on an issue in which database value for particular object attribute was correct but on UI it was showing the wrong value. I dig into the front-end Javascript code and I found that bug occurred while merging the two objects in Javascript. first, we will discuss how to merge two objects then I will explain what we should care about while merging two objects.]]></description>
            <content:encoded><![CDATA[<p>Yesterday, I was working on an issue in which database value for particular object attribute was correct but on UI it was showing the wrong value. I dig into the front-end Javascript code and I found that bug occurred while merging the two objects in Javascript. first, we will discuss how to merge two objects then I will explain what we should care about while merging two objects.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-merge-objects">How to merge objects?<a href="https://pradnyeshpatil.github.io/blog/how-to-merge-objects-in-javascript#how-to-merge-objects" class="hash-link" aria-label="Direct link to How to merge objects?" title="Direct link to How to merge objects?">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-merge-two-objects-having-distinct-attributes-names">1. Merge two objects having distinct attributes names.<a href="https://pradnyeshpatil.github.io/blog/how-to-merge-objects-in-javascript#1-merge-two-objects-having-distinct-attributes-names" class="hash-link" aria-label="Direct link to 1. Merge two objects having distinct attributes names." title="Direct link to 1. Merge two objects having distinct attributes names.">​</a></h3>
<p>declare two objects as the following:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> student </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">student_name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Rahul"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">standard</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"6th"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> school </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">school_name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"SBK high school"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Pune"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>Now, we will use <code>extend</code> method to merge these two objects.</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">extend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">student</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> school</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">student_name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Rahul"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">standard</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"6th"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">school_name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"SBK high school"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Pune"</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>We can also use the <code>merge</code> method to merge these objects</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">merge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">student</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> school</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">student_name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Rahul"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">standard</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"6th"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">length</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword nil" style="color:#00009f">undefined</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-merge-two-objects-having-some-common-attributes-names">2. Merge two objects having some common attributes names.<a href="https://pradnyeshpatil.github.io/blog/how-to-merge-objects-in-javascript#2-merge-two-objects-having-some-common-attributes-names" class="hash-link" aria-label="Direct link to 2. Merge two objects having some common attributes names." title="Direct link to 2. Merge two objects having some common attributes names.">​</a></h3>
<p>We don't have to care where there are distinct attributes in the objects. But when there are some common attribute names then those attributes value gets an override.</p>
<p>declare two objects having the same attribute names like the following:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> student </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Rahul"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">standard</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"6th"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> school </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"SBK high school"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Pune"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>Now, we will use <code>extend</code> method to merge these two objects.</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">extend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">student</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> school</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"SBK high school"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">standard</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"6th"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Pune"</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>We can also use the <code>merge</code> method to merge these objects</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">merge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">student</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> school</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Rahul"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">standard</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"6th"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">length</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword nil" style="color:#00009f">undefined</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>Now we have understood how to merge two objects in Javascript and the difference between merge and extend method in Javascript. We should be careful while merging two objects having a common attribute name. Common attribute names can cause unexpected result in the output.</p>
<p>Please feel free to contact me on <a href="https://x.com/Shyampa09340219" target="_blank" rel="noopener noreferrer">twitter</a>.</p>]]></content:encoded>
            <category>javascipt</category>
        </item>
        <item>
            <title><![CDATA[How to use a Singleton method in the rails.]]></title>
            <link>https://pradnyeshpatil.github.io/blog/singleton-method-in-the-ruby</link>
            <guid>https://pradnyeshpatil.github.io/blog/singleton-method-in-the-ruby</guid>
            <pubDate>Wed, 10 Aug 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[Today I have been going through Ruby Conference videos and Singleton method and metaclass in ruby was one of the talk discussed there So, I thought to write a blog about it.]]></description>
            <content:encoded><![CDATA[<p>Today I have been going through Ruby Conference videos and Singleton method and metaclass in ruby was one of the talk discussed there So, I thought to write a blog about it.</p>
<p>In ruby, we create the class and class has many methods written into it. When we create an object of the class we can access those methods using that object. So, the question raise in my mind was as follows.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-who-holds-these-methods-does-class-hold-these-methods-or-each-object-of-the-class-holds-this-methods">1. Who holds these methods? does class hold these methods or each object of the class holds this methods?<a href="https://pradnyeshpatil.github.io/blog/singleton-method-in-the-ruby#1-who-holds-these-methods-does-class-hold-these-methods-or-each-object-of-the-class-holds-this-methods" class="hash-link" aria-label="Direct link to 1. Who holds these methods? does class hold these methods or each object of the class holds this methods?" title="Direct link to 1. Who holds these methods? does class hold these methods or each object of the class holds this methods?">​</a></h3>
<p>Let us find it out.</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class User</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def role</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    puts "Admin"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user = User.new</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user.role         // Admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class User</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def role</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    puts "sales"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user.role         // sales</span><br></span></code></pre></div></div>
<p>As we can see we have overridden the <code>User</code> class that is why second <code>user.role</code> prints <code>sales</code>. It means all class methods are implemented in the class and also it is store in the class definitions.</p>
<p>Now consider the situation where we want to create method only for a single object of the class not for all objects of the class. We can do it in the ruby using singleton methods for the class object.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-singleton-methods">2. Singleton methods<a href="https://pradnyeshpatil.github.io/blog/singleton-method-in-the-ruby#2-singleton-methods" class="hash-link" aria-label="Direct link to 2. Singleton methods" title="Direct link to 2. Singleton methods">​</a></h2>
<p>Singleton methods are the methods which are only available for a single particular object and not for all objects of the class.</p>
<p>Check the following snippet</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class User</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def role</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    puts "Admin"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">first_user = User.new</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">first_user.role              // Admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Add singleton method department for `first_user` object.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def first_user.department</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  puts 'Admin department'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">first_user.department        // Admin department</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">second_user = User.new</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">second_user.role             // Admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">second_user.department       // NoMethodError (undefined method `department' for #&lt;User:0x000055a8b44b45d0&gt;)</span><br></span></code></pre></div></div>
<p>We can observe that department method is not available for object <code>second_user</code> because the department is singleton method for object <code>first_user</code> so it is stored on the metaclass of an object and they are independent of the parent class of the object.</p>
<p>So, Object in ruby only stores the state. Its behavior comes from the class definition. The metaclass is almost similar to a class but it can't be instantiated.</p>]]></content:encoded>
            <category>Rails</category>
        </item>
        <item>
            <title><![CDATA[Scope in rails.]]></title>
            <link>https://pradnyeshpatil.github.io/blog/scope-in-rails</link>
            <guid>https://pradnyeshpatil.github.io/blog/scope-in-rails</guid>
            <pubDate>Mon, 13 Jun 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[Rails follow the DRY principle of software development and that is 'Don't Repeat Yourself'.]]></description>
            <content:encoded><![CDATA[<p>Rails follow the DRY principle of software development and that is 'Don't Repeat Yourself'.
Scopes are great to keep our code DRY and well organized. It's just a set of pre-defined SQL queries that we can use to write complex queries.</p>
<p>Suppose we want to fetch users who have status <code>active</code>. So, we can simply write the following query</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @active_users = User.where(status: "active")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre></div></div>
<p>But we may need to re-use this code multiple times in our project. So instead of writing the same code, again and again, we can define a scope for it.</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class user &lt; ActiveRecord::Base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  scope :active, -&gt; { where(status: "active") }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre></div></div>
<p>Now, we can simply use an active scope to fetch all active users as following:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @active_users = User.active</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-scope-with-parameter">1. Scope with parameter.<a href="https://pradnyeshpatil.github.io/blog/scope-in-rails#1-scope-with-parameter" class="hash-link" aria-label="Direct link to 1. Scope with parameter." title="Direct link to 1. Scope with parameter.">​</a></h2>
<p>we can give parameters to scope.</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class Fruit &lt; ActiveRecord::Base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  scope :color, -&gt; (color_name){ where(color: color_name) }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre></div></div>
<p>now in our Fruit controller we can use</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def Index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @red_fruits = Fruit.color("red")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @yellow_fruits = Fruit.color("yellow")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-scopes-are-chainable">2. Scopes Are Chainable<a href="https://pradnyeshpatil.github.io/blog/scope-in-rails#2-scopes-are-chainable" class="hash-link" aria-label="Direct link to 2. Scopes Are Chainable" title="Direct link to 2. Scopes Are Chainable">​</a></h2>
<p>This is really interesting and it makes scope even more useful.</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class User &lt; ApplicationRecord</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  scope :active, -&gt; { where(status: "active") }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  scope :recent, -&gt; { where('created_at &lt; ?', 1.week.ago }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre></div></div>
<p>we can use it in the controller as following;</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @users = User.active.recent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-how-exactly-scope-works-in-rails">3. How exactly scope works in rails<a href="https://pradnyeshpatil.github.io/blog/scope-in-rails#3-how-exactly-scope-works-in-rails" class="hash-link" aria-label="Direct link to 3. How exactly scope works in rails" title="Direct link to 3. How exactly scope works in rails">​</a></h2>
<p>look at the active scope once again</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class user &lt; ActiveRecord::Base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  scope :active, -&gt; { where(status: "active") }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre></div></div>
<p>we can achieve the same result using the following class method as given. Basically, instead of writing class method scope is syntactical sugar for writing queries.</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def self.active</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  User.where(status: "active")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre></div></div>
<p>I would love to hear some of the interesting topics related to rails which I can explore and write a blog about it on <a href="https://x.com/Shyampa09340219" target="_blank" rel="noopener noreferrer">Twitter</a>.</p>
<p>Cheers!</p>]]></content:encoded>
            <category>Rails</category>
        </item>
        <item>
            <title><![CDATA[Relational database.]]></title>
            <link>https://pradnyeshpatil.github.io/blog/relational-database</link>
            <guid>https://pradnyeshpatil.github.io/blog/relational-database</guid>
            <pubDate>Mon, 16 May 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[In the internet era, every organization is storing large data and it is difficult to maintain this much data. There are different databases available but it is very difficult to select the best suitable for our requirement. Mainly databases are classified into Relational database and Non-relational database.]]></description>
            <content:encoded><![CDATA[<p>In the internet era, every organization is storing large data and it is difficult to maintain this much data. There are different databases available but it is very difficult to select the best suitable for our requirement. Mainly databases are classified into Relational database and Non-relational database.</p>
<p><strong>Relational database:</strong> It is also called SQL(Structured Query Language) database and it is a set of data organized by tables, records and columns.</p>
<p>Ex: MySQL, MariaDB, and Postgres etc.</p>
<p><strong>Non-relational database:</strong> It is also called NoSQL(Non Structured Query Language) database. In NoSQL databases data is stored in documents and collections. What NoSQL databases gain in speed, flexibility, availability and partition tolerance, they lack in data consistency and most NoSQL stores can not handle <a href="https://en.wikipedia.org/wiki/ACID_(computer_science)" target="_blank" rel="noopener noreferrer">ACID transactions</a>.</p>
<p>Ex: MongoDB, Cassandra, and HBase.</p>
<p>Though there are many database options available today, Relational database is still best choice. New SQL and NoSQL have their place, but a relational database is still the solid choice.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-relational-database-is-still-best-choice">Why Relational database is still best choice?<a href="https://pradnyeshpatil.github.io/blog/relational-database#why-relational-database-is-still-best-choice" class="hash-link" aria-label="Direct link to Why Relational database is still best choice?" title="Direct link to Why Relational database is still best choice?">​</a></h3>
<p><strong>Ease of Use:</strong> The use of tables to store data in columns and rows makes it easy to access and manage data.</p>
<p><strong>Data Security:</strong> With an RDBMS you can hide sensitive tables and give them their authorization codes, providing a layer of protection for your data</p>
<p><strong>SQL Standard:</strong> SQL is a standardized language well understood by many applications, and many of the alternative database options provide SQL interfaces.</p>
<p><strong>Data Integrity:</strong> the structure of the relational database preserves the integrity of the data and makes it easier to meet compliance regulations.</p>
<p><strong>Performance:</strong> An RDBMS uses indexes to sort data and speed up performance, and supports both desktop and web applications.</p>
<p><strong>Development and Support:</strong> The large players — Oracle, Microsoft, SAP — have a vested interest in continuing to develop and evolve their database offering to meet modern standards.</p>
<p><strong>RDBMS Standards:</strong> Relational databases adhere to ACID properties to ensure the reliability of transactions.</p>]]></content:encoded>
            <category>MySQL</category>
        </item>
        <item>
            <title><![CDATA[Eager loading and N+1 query in rails.]]></title>
            <link>https://pradnyeshpatil.github.io/blog/eager-loading-and-N-plus-1-query</link>
            <guid>https://pradnyeshpatil.github.io/blog/eager-loading-and-N-plus-1-query</guid>
            <pubDate>Tue, 10 May 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[Sometimes, the implementation of an algorithm can make performance worst. Then it does not matter whether it has used the faster programming language like C or slower like Ruby. So we should implement the algorithms properly. Same while dealing with the database we should use proper queries so that the performance should not affect.]]></description>
            <content:encoded><![CDATA[<p>Sometimes, the implementation of an algorithm can make performance worst. Then it does not matter whether it has used the faster programming language like C or slower like Ruby. So we should implement the algorithms properly. Same while dealing with the database we should use proper queries so that the performance should not affect.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lets-observe-an-example">Let's observe an example.<a href="https://pradnyeshpatil.github.io/blog/eager-loading-and-N-plus-1-query#lets-observe-an-example" class="hash-link" aria-label="Direct link to Let's observe an example." title="Direct link to Let's observe an example.">​</a></h3>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class College &lt; ApplicationRecord</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  has_many :students</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre></div></div>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class Student &lt; ApplicationRecord</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  belongs_to :college</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre></div></div>
<p>Now create some colleges and respective students.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="n1-query-in-rails">N+1 query in Rails<a href="https://pradnyeshpatil.github.io/blog/eager-loading-and-N-plus-1-query#n1-query-in-rails" class="hash-link" aria-label="Direct link to N+1 query in Rails" title="Direct link to N+1 query in Rails">​</a></h2>
<p>If we wanted to list the first ten students and their colleges, We could write the following code.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">students </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Student</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">limit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">students</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">each </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">student</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  puts </span><span class="token string" style="color:#e3116c">"#{student.college.name} build number #{student.name}"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre></div></div>
<p>The above code works, but it makes far too many independent database queries:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Student </span><span class="token keyword" style="color:#00009f">Load</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.3</span><span class="token plain">ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"students"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"students"</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">LIMIT</span><span class="token plain"> ? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"LIMIT"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">College </span><span class="token keyword" style="color:#00009f">Load</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.2</span><span class="token plain">ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token string" style="color:#e3116c">"id"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ? </span><span class="token keyword" style="color:#00009f">LIMIT</span><span class="token plain"> ? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"LIMIT"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">College </span><span class="token keyword" style="color:#00009f">Load</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.2</span><span class="token plain">ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token string" style="color:#e3116c">"id"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ? </span><span class="token keyword" style="color:#00009f">LIMIT</span><span class="token plain"> ? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"LIMIT"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">College </span><span class="token keyword" style="color:#00009f">Load</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.2</span><span class="token plain">ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token string" style="color:#e3116c">"id"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ? </span><span class="token keyword" style="color:#00009f">LIMIT</span><span class="token plain"> ? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"LIMIT"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">College </span><span class="token keyword" style="color:#00009f">Load</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.2</span><span class="token plain">ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token string" style="color:#e3116c">"id"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ? </span><span class="token keyword" style="color:#00009f">LIMIT</span><span class="token plain"> ? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"LIMIT"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">College </span><span class="token keyword" style="color:#00009f">Load</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.2</span><span class="token plain">ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token string" style="color:#e3116c">"id"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ? </span><span class="token keyword" style="color:#00009f">LIMIT</span><span class="token plain"> ? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"LIMIT"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">College </span><span class="token keyword" style="color:#00009f">Load</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.2</span><span class="token plain">ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token string" style="color:#e3116c">"id"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ? </span><span class="token keyword" style="color:#00009f">LIMIT</span><span class="token plain"> ? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"LIMIT"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">College </span><span class="token keyword" style="color:#00009f">Load</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.2</span><span class="token plain">ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token string" style="color:#e3116c">"id"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ? </span><span class="token keyword" style="color:#00009f">LIMIT</span><span class="token plain"> ? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"LIMIT"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">College </span><span class="token keyword" style="color:#00009f">Load</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain">ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token string" style="color:#e3116c">"id"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ? </span><span class="token keyword" style="color:#00009f">LIMIT</span><span class="token plain"> ? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"LIMIT"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">College </span><span class="token keyword" style="color:#00009f">Load</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.2</span><span class="token plain">ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token string" style="color:#e3116c">"id"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ? </span><span class="token keyword" style="color:#00009f">LIMIT</span><span class="token plain"> ? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"LIMIT"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">College </span><span class="token keyword" style="color:#00009f">Load</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain">ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token string" style="color:#e3116c">"id"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ? </span><span class="token keyword" style="color:#00009f">LIMIT</span><span class="token plain"> ? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"LIMIT"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p>Currently, There are 11 independent queries to fetch 10 students. One query to fetch students and other N queries to fetch college in each iteration. hence the total number of queries is N+1. Now are fetching just 10 records but in the real-time scenario, the number of required records can be large. Suppose we want to fetch 10000 records then we'll need to connect database 10001 times and it will degrade the performance of the application heavily.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="eager-loading-in-rails">Eager loading in Rails<a href="https://pradnyeshpatil.github.io/blog/eager-loading-and-N-plus-1-query#eager-loading-in-rails" class="hash-link" aria-label="Direct link to Eager loading in Rails" title="Direct link to Eager loading in Rails">​</a></h2>
<p>To avoid the performance degradation of the previous example we need to reduce the number of independent queries to the database. In rails, this is done by eager loading associated relations. In the eager loading, we collect the required data with only one query.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">students </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Student</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">includes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">:college</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">limit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">students</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">each </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">student</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  puts </span><span class="token string" style="color:#e3116c">"#{student.college.name} build number #{student.name}"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre></div></div>
<p>This time we'll use one query to fetch the students and another for fetching the associated colleges.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Student </span><span class="token keyword" style="color:#00009f">Load</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.4</span><span class="token plain">ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"students"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"students"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">College </span><span class="token keyword" style="color:#00009f">Load</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.4</span><span class="token plain">ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"colleges"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token string" style="color:#e3116c">"id"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">?</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p>Now, we'll required only two queries. Even though we wanted 10000 records only two queries are required to fetch the records from the database and it will improve the performance of our application.</p>
<p>For comparison, the time necessary to load and display 10 builds in my system is 2.1 milliseconds without eager loading and only 0.8 milliseconds with eager loading. This is s huge difference. Currently, In the case of a large number of record fetching, this time difference can be even far more.</p>
<p>I would love to hear some of your tips on dealing with N+1 queries on <a href="https://x.com/Shyampa09340219" target="_blank" rel="noopener noreferrer">twitter</a>.</p>
<p>Cheers!</p>]]></content:encoded>
            <category>Rails</category>
            <category>Ruby</category>
        </item>
        <item>
            <title><![CDATA[First Blog Post]]></title>
            <link>https://pradnyeshpatil.github.io/blog/first-blog-post</link>
            <guid>https://pradnyeshpatil.github.io/blog/first-blog-post</guid>
            <pubDate>Tue, 04 Jan 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[This is my first post here at my personal portfolio, how exciting!!]]></description>
            <content:encoded><![CDATA[<p>This is my first post here at my personal portfolio, how exciting!!</p>]]></content:encoded>
        </item>
    </channel>
</rss>